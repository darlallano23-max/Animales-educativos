<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aplicaci√≥n educativa para ni√±os: aprende sobre animales con sonidos reales y juegos interactivos">
    <title>Animales Divertidos - Aprende Jugando</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', Arial, sans-serif;
            background: linear-gradient(135deg, #E8F5E9 0%, #B2DFDB 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            padding: 20px;
        }

        /* Pantalla de inicio */
        .home-screen {
            text-align: center;
            animation: fadeIn 0.5s ease-in;
        }

        .app-title {
            font-size: clamp(2rem, 8vw, 4rem);
            color: #2E7D32;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            text-transform: uppercase;
            animation: bounce 2s infinite;
        }

        .mode-buttons {
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
        }

        .mode-btn {
            background: linear-gradient(135deg, #66BB6A 0%, #43A047 100%);
            color: white;
            border: none;
            padding: 30px 60px;
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: bold;
            min-width: 280px;
            position: relative;
            overflow: hidden;
        }

        .mode-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        .mode-btn:active {
            transform: translateY(-2px);
        }

        .mode-btn.quiz-btn {
            background: linear-gradient(135deg, #FFA726 0%, #FB8C00 100%);
        }

        .mode-btn.tutorial-btn {
            background: linear-gradient(135deg, #42A5F5 0%, #1E88E5 100%);
        }

        .mode-btn.info-btn {
            background: linear-gradient(135deg, #AB47BC 0%, #8E24AA 100%);
        }

        /* Navegaci√≥n */
        .nav-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: #2E7D32;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: clamp(1rem, 3vw, 1.5rem);
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 120px;
        }

        .nav-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        /* Control de sonido */
        .sound-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2E7D32;
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .sound-control:hover {
            transform: scale(1.1);
        }

        .sound-control.muted {
            background: #D32F2F;
        }

        /* Galer√≠a de animales */
        .animal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .animal-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            animation: slideInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .animal-card:nth-child(1) { animation-delay: 0.1s; }
        .animal-card:nth-child(2) { animation-delay: 0.2s; }
        .animal-card:nth-child(3) { animation-delay: 0.3s; }
        .animal-card:nth-child(4) { animation-delay: 0.4s; }
        .animal-card:nth-child(5) { animation-delay: 0.5s; }
        .animal-card:nth-child(6) { animation-delay: 0.6s; }
        .animal-card:nth-child(7) { animation-delay: 0.7s; }
        .animal-card:nth-child(8) { animation-delay: 0.8s; }
        .animal-card:nth-child(9) { animation-delay: 0.9s; }
        .animal-card:nth-child(10) { animation-delay: 1s; }

        .animal-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.25);
        }

        .animal-card:active {
            transform: scale(0.98);
        }

        .animal-card.playing {
            animation: pulse 0.6s ease-in-out;
        }

        .animal-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 15px;
        }

        .animal-name {
            font-size: clamp(1.5rem, 4vw, 2rem);
            color: #1B5E20;
            text-transform: uppercase;
            font-weight: bold;
        }

        /* Pantalla de Quiz */
        .quiz-screen {
            text-align: center;
        }

        .quiz-question {
            font-size: clamp(1.8rem, 6vw, 3rem);
            color: #E65100;
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            text-transform: uppercase;
            font-weight: bold;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }

        .quiz-option {
            background: white;
            border: 5px solid transparent;
            border-radius: 20px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .quiz-option:hover {
            transform: scale(1.05);
            border-color: #FFA726;
        }

        .quiz-option.correct {
            border-color: #66BB6A;
            animation: celebrate 0.6s ease;
        }

        .quiz-option.incorrect {
            border-color: #EF5350;
            animation: shake 0.5s ease;
        }

        /* Resultado del Quiz */
        .result-screen {
            text-align: center;
            animation: fadeIn 0.5s ease-in;
        }

        .result-message {
            font-size: clamp(2rem, 7vw, 4rem);
            color: #2E7D32;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .score-display {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .emoji {
            font-size: clamp(4rem, 15vw, 8rem);
            display: inline-block;
            animation: rotate-emoji 2s ease-in-out infinite;
        }

        /* Pantalla de Tutorial */
        .tutorial-screen, .info-screen {
            animation: fadeIn 0.5s ease-in;
        }

        .section-title {
            font-size: clamp(2rem, 6vw, 3rem);
            color: #2E7D32;
            text-align: center;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .video-container, .info-container {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }

        .video-container iframe {
            width: 100%;
            height: 500px;
            border-radius: 15px;
        }

        .video-description, .info-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .video-description h3, .info-content h3 {
            color: #E65100;
            font-size: clamp(1.5rem, 4vw, 2rem);
            margin-bottom: 20px;
        }

        .video-description ul, .info-content ul {
            list-style: none;
            padding: 0;
        }

        .video-description li, .info-content li {
            font-size: clamp(1rem, 3vw, 1.3rem);
            color: #333;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        /* Confeti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #FFD700;
            top: -10px;
            z-index: 9999;
            animation: confetti-fall 3s linear;
        }

        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 15px 40px rgba(46, 125, 50, 0.4);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            }
        }

        @keyframes celebrate {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-5deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @keyframes rotate-emoji {
            0% {
                transform: rotate(0deg) scale(1);
            }
            25% {
                transform: rotate(10deg) scale(1.1);
            }
            50% {
                transform: rotate(0deg) scale(1);
            }
            75% {
                transform: rotate(-10deg) scale(1.1);
            }
            100% {
                transform: rotate(0deg) scale(1);
            }
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Clases de utilidad */
        .hidden {
            display: none !important;
        }

        /* Responsividad */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .animal-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
            }

            .animal-image {
                height: 150px;
            }

            .mode-btn {
                padding: 20px 40px;
                min-width: 240px;
            }

            .nav-btn {
                padding: 12px 20px;
                min-width: 100px;
            }

            .video-container iframe {
                height: 250px;
            }

            .sound-control {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Pantalla de inicio -->
        <div id="homeScreen" class="home-screen">
            <h1 class="app-title">üêæ Animales Divertidos üêæ</h1>
            <div class="mode-buttons">
                <button class="mode-btn" onclick="showGallery()" aria-label="Ver galer√≠a de animales">
                    üìö VER ANIMALES
                </button>
                <button class="mode-btn quiz-btn" onclick="startQuiz()" aria-label="Jugar quiz">
                    üéÆ JUGAR QUIZ
                </button>
                <button class="mode-btn tutorial-btn" onclick="showTutorial()" aria-label="Ver tutorial">
                    üì∫ VER TUTORIAL
                </button>
                <button class="mode-btn info-btn" onclick="showInfo()" aria-label="Informaci√≥n adicional">
                    ‚ÑπÔ∏è INFORMACI√ìN
                </button>
            </div>
        </div>

        <!-- Pantalla de galer√≠a -->
        <div id="galleryScreen" class="hidden">
            <div class="nav-bar">
                <button class="nav-btn" onclick="goHome()" aria-label="Volver al inicio">üè† INICIO</button>
            </div>
            <h2 class="section-title">üêæ GALER√çA DE ANIMALES</h2>
            <div class="animal-grid" id="animalGrid" role="grid"></div>
        </div>

        <!-- Pantalla de Quiz -->
        <div id="quizScreen" class="hidden quiz-screen">
            <div class="nav-bar">
                <button class="nav-btn" onclick="goHome()" aria-label="Volver al inicio">üè† INICIO</button>
                <button class="nav-btn" onclick="startQuiz()" aria-label="Reiniciar quiz">üîÑ NUEVO JUEGO</button>
            </div>
            <div class="quiz-question" id="quizQuestion" role="heading" aria-level="2"></div>
            <div class="quiz-options" id="quizOptions" role="group" aria-label="Opciones de respuesta"></div>
        </div>

        <!-- Pantalla de resultados -->
        <div id="resultScreen" class="hidden result-screen">
            <h2 class="result-message">¬°JUEGO TERMINADO!</h2>
            <div class="emoji" aria-hidden="true">üéâ</div>
            <div class="score-display" id="scoreDisplay" role="status" aria-live="polite"></div>
            <div class="mode-buttons">
                <button class="mode-btn quiz-btn" onclick="startQuiz()">
                    üéÆ JUGAR DE NUEVO
                </button>
                <button class="mode-btn" onclick="goHome()">
                    üè† VOLVER AL INICIO
                </button>
            </div>
        </div>

        <!-- Pantalla de Tutorial -->
        <div id="tutorialScreen" class="hidden tutorial-screen">
            <div class="nav-bar">
                <button class="nav-btn" onclick="goHome()">üè† INICIO</button>
            </div>
            
            <h2 class="section-title">üì∫ C√ìMO USAR LA APP</h2>
            
            <div class="video-container">
                <!-- Reemplaza con tu URL de video de YouTube o archivo local -->
                <iframe 
                    src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                    title="Tutorial de la aplicaci√≥n"
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen
                    aria-label="Video tutorial de uso de la aplicaci√≥n">
                </iframe>
                <p style="margin-top: 15px; color: #666; text-align: center;">
                    ‚ö†Ô∏è Reemplaza esta URL con tu video tutorial de 5 minutos
                </p>
            </div>
            
            <div class="video-description">
                <h3>üéì En este video aprender√°s:</h3>
                <ul>
                    <li>‚úÖ C√≥mo explorar la galer√≠a de animales</li>
                    <li>‚úÖ C√≥mo jugar el quiz educativo</li>
                    <li>‚úÖ Consejos para aprovechar al m√°ximo la app</li>
                    <li>‚úÖ Caracter√≠sticas especiales de navegaci√≥n</li>
                </ul>
            </div>
        </div>

        <!-- Pantalla de Informaci√≥n -->
        <div id="infoScreen" class="hidden info-screen">
            <div class="nav-bar">
                <button class="nav-btn" onclick="goHome()">üè† INICIO</button>
            </div>
            
            <h2 class="section-title">‚ÑπÔ∏è ACERCA DE LA APP</h2>
            
            <div class="info-container">
                <div class="info-content">
                    <h3>üéØ Objetivo Educativo</h3>
                    <p style="font-size: 1.2rem; color: #555; line-height: 1.8; margin-bottom: 20px;">
                        Esta aplicaci√≥n est√° dise√±ada para ni√±os de 3 a 6 a√±os con el objetivo de ense√±ar sobre animales de forma interactiva y divertida mediante sonidos reales e im√°genes de alta calidad.
                    </p>
                    
                    <h3>üåü Caracter√≠sticas Principales</h3>
                    <ul>
                        <li>‚úÖ 10 animales con sonidos reales de alta fidelidad</li>
                        <li>‚úÖ Quiz interactivo con retroalimentaci√≥n inmediata</li>
                        <li>‚úÖ Dise√±o intuitivo para uso aut√≥nomo</li>
                        <li>‚úÖ Animaciones suaves y atractivas</li>
                        <li>‚úÖ 100% responsivo (m√≥vil y escritorio)</li>
                        <li>‚úÖ Accesible y seguro para ni√±os</li>
                    </ul>
                    
                    <h3>üë®‚Äçüíª Informaci√≥n T√©cnica</h3>
                    <ul>
                        <li>üì± Compatible con iOS y Android</li>
                        <li>üíª Funciona en cualquier navegador moderno</li>
                        <li>üîä Requiere altavoces o aud√≠fonos</li>
                        <li>üì∂ No requiere conexi√≥n constante (despu√©s de carga inicial)</li>
                    </ul>
                    
                    <h3>üéì Desarrollado por:</h3>
                    <p style="font-size: 1.2rem; color: #555; line-height: 1.8;">
                        [Tu Nombre]<br>
                        Universidad: [Tu Universidad]<br>
                        A√±o: 2026
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Control de sonido -->
    <button id="soundControl" class="sound-control" onclick="toggleSound()" aria-label="Activar/Desactivar sonido">
        üîä
    </button>

    <script>
        // 1. BASE DE DATOS (Verificada con tus capturas)
        const animals = [
            { name: "PERRO", image: "image/perro.jpg", sound: "sonidos/perro.mp3" },
            { name: "GATO", image: "image/gato.jpg", sound: "sonidos/gato.mp3" },
            { name: "VACA", image: "image/vaca.jpg", sound: "sonidos/vaca.mp3" },
            { name: "CABALLO", image: "image/caballo.jpg", sound: "sonidos/caballo.mp3" },
            { name: "OVEJA", image: "image/oveja.jpg", sound: "sonidos/oveja.mp3" },
            { name: "CERDO", image: "image/cerdo.jpg", sound: "sonidos/cerdo.mp3" },
            { name: "PATO", image: "image/pato.jpg", sound: "sonidos/pato.mp3" },
            { name: "GALLO", image: "image/gallo.jpg", sound: "sonidos/gallo.mp3" },
            { name: "LE√ìN", image: "image/leon.jpg", sound: "sonidos/leon.mp3" },
            { name: "ELEFANTE", image: "image/elefante.jpg", sound: "sonidos/elefante.mp3" }
        ];

        let currentQuizIndex = 0;
        let score = 0;
        let usedAnimals = [];
        const totalQuestions = 5;
        let isSoundMuted = false;
        let currentAudio = null;

        // 2. MOTOR DE AUDIO REFORZADO PARA GITHUB
        function playSound(url) {
            if (isSoundMuted) return;

            if (currentAudio) {
                currentAudio.pause();
                currentAudio.src = ""; 
            }

            currentAudio = new Audio();
            
            // TRUCO MAESTRO: Construye la ruta completa para que GitHub no se pierda
            const protocol = window.location.protocol;
            const host = window.location.host;
            const path = window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/') + 1);
            const fullUrl = protocol + "//" + host + path + url;

            currentAudio.src = fullUrl;
            currentAudio.load();

            currentAudio.play().catch(e => {
                console.error("Error en:", fullUrl);
                // Si falla la ruta construida, intentamos la ruta simple como √∫ltimo recurso
                currentAudio.src = url;
                currentAudio.play().catch(err => console.log("Fallo total de audio"));
            });
        }

        function playSuccessSound() {
            const success = new Audio('https://cdn.pixabay.com/audio/2021/08/04/audio_12b0c7443c.mp3');
            success.play();
        }

        function playErrorSound() {
            const error = new Audio('https://cdn.pixabay.com/audio/2022/03/15/audio_49a538c423.mp3');
            error.play();
        }

        function toggleSound() {
            isSoundMuted = !isSoundMuted;
            const btn = document.getElementById('soundControl');
            btn.textContent = isSoundMuted ? 'üîá' : 'üîä';
            btn.classList.toggle('muted', isSoundMuted);
            if (isSoundMuted && currentAudio) currentAudio.pause();
        }

        // 3. NAVEGACI√ìN
        function hideAllScreens() {
            const screens = ['homeScreen', 'galleryScreen', 'quizScreen', 'resultScreen', 'tutorialScreen', 'infoScreen'];
            screens.forEach(id => {
                const screen = document.getElementById(id);
                if (screen) screen.classList.add('hidden');
            });
        }

        function goHome() {
            hideAllScreens();
            document.getElementById('homeScreen').classList.remove('hidden');
            if (currentAudio) { currentAudio.pause(); currentAudio = null; }
        }

        function showGallery() {
            hideAllScreens();
            document.getElementById('galleryScreen').classList.remove('hidden');
            renderGallery();
        }

        function showTutorial() {
            hideAllScreens();
            document.getElementById('tutorialScreen').classList.remove('hidden');
        }

        function showInfo() {
            hideAllScreens();
            document.getElementById('infoScreen').classList.remove('hidden');
        }

        // 4. GALER√çA
        function renderGallery() {
            const grid = document.getElementById('animalGrid');
            grid.innerHTML = '';
            animals.forEach(animal => {
                const card = document.createElement('div');
                card.className = 'animal-card';
                card.innerHTML = `
                    <img src="${animal.image}" alt="${animal.name}" class="animal-image">
                    <div class="animal-name">${animal.name}</div>
                `;
                card.onclick = () => {
                    playSound(animal.sound);
                    card.classList.add('playing');
                    setTimeout(() => card.classList.remove('playing'), 600);
                };
                grid.appendChild(card);
            });
        }

        // 5. JUEGO
        function startQuiz() {
            hideAllScreens();
            document.getElementById('quizScreen').classList.remove('hidden');
            currentQuizIndex = 0;
            score = 0;
            usedAnimals = [];
            showNextQuestion();
        }

        function showNextQuestion() {
            if (currentQuizIndex >= totalQuestions) {
                showResults();
                return;
            }
            const availableAnimals = animals.filter(a => !usedAnimals.includes(a.name));
            const correctAnimal = availableAnimals[Math.floor(Math.random() * availableAnimals.length)];
            usedAnimals.push(correctAnimal.name);

            document.getElementById('quizQuestion').textContent = `¬øQU√â ANIMAL HACE ESTE SONIDO?`;
            
            setTimeout(() => playSound(correctAnimal.sound), 500);

            const options = getRandomAnimals(correctAnimal, 3);
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';

            options.forEach(option => {
                const btn = document.createElement('div');
                btn.className = 'quiz-option';
                btn.innerHTML = `<img src="${option.image}" style="width:100%; border-radius:15px; height:180px; object-fit:cover;">`;
                btn.onclick = () => checkAnswer(option.name === correctAnimal.name, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function getRandomAnimals(correctAnimal, count) {
            let options = [correctAnimal];
            let available = animals.filter(a => a.name !== correctAnimal.name);
            for (let i = 0; i < count - 1; i++) {
                const index = Math.floor(Math.random() * available.length);
                options.push(available.splice(index, 1)[0]);
            }
            return options.sort(() => Math.random() - 0.5);
        }

        function checkAnswer(isCorrect, element) {
            document.querySelectorAll('.quiz-option').forEach(opt => opt.style.pointerEvents = 'none');
            
            if (isCorrect) {
                score++;
                element.classList.add('correct');
                playSuccessSound();
                createConfetti();
            } else {
                element.classList.add('incorrect');
                playErrorSound();
            }

            setTimeout(() => {
                currentQuizIndex++;
                showNextQuestion();
            }, 1800);
        }

        function showResults() {
            hideAllScreens();
            document.getElementById('resultScreen').classList.remove('hidden');
            document.getElementById('scoreDisplay').textContent = `LOGRASTE ${score} DE ${totalQuestions} PUNTOS`;
        }

        function createConfetti() {
            for(let i=0; i<30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
                confetti.style.animationDuration = (Math.random() * 2 + 1) + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }
        }
    </script>
